
<div class="row">

  <div class="stm_image">
    <img id="{{ obj.m_id }}" src="{{ obj.img_data_fw.data_uri }}" class="hover-shadow" data-slide-num="{{ obj.slide_num }}" />
  </div>
  <div class="stm_image">
    <img id="{{ obj.m_id }}" src="{{ obj.img_data_bw.data_uri }}" class="hover-shadow" data-slide-num="{{ obj.slide_num }}" />
  </div>
  <!-- IMAGE METADATA -->
  <div class="table_column">
    <table>
      <tr>
        <th>Image ID</th>
        <td><a href="file:///{{ obj.filepath }}">{{ obj.m_id }}</td>
      </tr>
      <tr>
        <th>Number</th>
        <td>{{ obj.slide_num }}</td>
      </tr>
      <tr>
        <th>Datetime</th>
        <td>{{ obj.datetime.strftime("%Y-%m-%d %H:%M:%S") }}</td>
      </tr>
      
      {% if check_type(obj, 'NanosurfNid') and obj.op_mode == 'Dynamic Force' %}
          <tr>
            <th>Setpoint</sub></th>
            <td>{{ "{:.2f}".format(obj.current) }} %</td>
          </tr>
          <tr>
            <th>Tip Voltage</th>
            <td>{{ "{:.1f}".format(obj.bias) }} mV</td>
          </tr>
          <tr>
      {% else %}
          <tr>
            <th>I<sub>tun</sub></th>
            <td>{{ "{:.2f}".format(obj.current) }} nA</td>
          </tr>
          <tr>
            <th>U<sub>tun</sub></th>
            <td>{{ "{:.1f}".format(obj.bias) }} mV</td>
          </tr>
          <tr>
      {% endif %}
      
        <th>Scan Size</th>
        <td>{{ "{:.0f}".format(obj.xsize) }} &#215; {{ "{:.0f}".format(obj.ysize) }} nm&#178;</td>
      </tr>
      <tr>
        <th>Resolution</th>
        <td>{{ obj.xres }} &#215; {{ obj.yres }}</td>
      </tr>
      <tr>
        <th>Tilt</th>
        <td>{{ obj.tilt }}&#176;</td>
      <tr>
        <th>Scan Duration</th>
        <td>{{ "{:.2f}".format(obj.speed) }} s</td>
      </tr>
      <tr>
        <th>Line Time</th>
        <td>{{ "{:.2f}".format(obj.line_time) }} ms</td>
      </tr>
      <tr>
        <th>Offset</th>
        <td>{{ "{:.2f}".format(obj.xoffset) }} nm, {{ "{:.2f}".format(obj.yoffset) }} nm</td>
      </tr>

      {% if obj.p_gain %}
          <tr>
            <th>P / I</th>
            <td>{{ "{:.2f}".format(obj.p_gain) }} / {{ "{:.2f}".format(obj.i_gain) }}</td>
          </tr>
      {% endif %}
      
    </table>
  </div>

  <!-- LABJOURNAL DATA -->
  {% if obj.surface or obj.tip or obj.par1 or obj.par2 or obj.par3 %}
      <div class="table_column">
        <table style:"width=100%" >
          <tr><th>Surface</th><td>{{ obj.surface }}</td></tr>
          <tr><th>Tip</th><td>{{ obj.par1 }}</td></tr>
          <tr><th>Gas Ambient</th><td>{{ obj.par2 }}</td></tr>
          <tr><th>Electrolyte</th><td>{{ obj.par3 }}</td></tr>
          <tr><th>Reference Electrode</th><td>{{ obj.par4 }}</td></tr>
          <tr><th>Picostat current range</th><td>{{ obj.par5 }} µA/V</td></tr>
          <tr><th>Observations</th><td>{{ obj.observations }} µA/V</td></tr>
          <tr><th>Sample short</th><td>{{ obj.sample_sh }}</td></tr>
          <tr><th>Support</th><td>{{ obj.support }}</td></tr>
        </table>
      </div>
  {% endif %}

  <!-- LABJOURNAL REMARK -->
  {% if obj.remarks %}
  <div class="remark_column">
      <b>Remark</b>
      <p>{{ obj.remarks }}</p>
  </div>
  {% endif %}

</div><!-- End of one row -->
